{#def history, item_id, offset, has_more=False #}

{% for record in history %}
    <features.HistoryRecord :record="record" />
{% endfor %}

{% if has_more %}
{%- set next_url = "/inventory/api/item/" ~ item_id ~ "/history?offset=" ~ offset -%}
{%- set scroll_label = "history-pagination-" ~ item_id -%}
    <ui.InfiniteScroll
        :url="next_url"
        skeleton_count=2
        :label="scroll_label">
        {#-- Named slot for skeleton --#}
        {% if _slot == "skeleton" %}
            <ui.HistorySkeleton />
        {% endif %}
    </ui.InfiniteScroll>
{% endif %}

{% if not history and not has_more %}
    <ui.EmptyState message="No hay historial disponible" />
{% endif %}
